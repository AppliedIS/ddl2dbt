
CREATE TABLE HUB_CLAIM
(
	CLAIM_HK             BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL,
	RECORD_SOURCE        VARCHAR(100) NOT NULL,
	CLAIM_NUMBER         VARCHAR(100) NULL
);

ALTER TABLE HUB_CLAIM
ADD PRIMARY KEY (CLAIM_HK);

CREATE TABLE HUB_CLAIM_FINANCIAL_TRANSACTION
(
	CLAIM_FINANCIAL_TRANSACTION_HK BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL,
	RECORD_SOURCE        VARCHAR(100) NOT NULL,
	CLAIM_NUMBER         VARCHAR(100) NULL,
	TRANSACTION_CREATED_TIMESTAMP TIMESTAMP NULL,
	SEQUENCE_NUMBER      INTEGER NULL
);

ALTER TABLE HUB_CLAIM_FINANCIAL_TRANSACTION
ADD PRIMARY KEY (CLAIM_FINANCIAL_TRANSACTION_HK);

CREATE TABLE HUB_COVERAGE
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	COVERAGE_HK          BINARY(16) NOT NULL,
	COVERAGE_CODE        VARCHAR(20) NULL,
	LIMIT_CODE           VARCHAR(20) NULL,
	DEDUCTIBLE_CODE      VARCHAR(20) NULL,
	STATE_CODE           VARCHAR(20) NULL
);

ALTER TABLE HUB_COVERAGE
ADD PRIMARY KEY (COVERAGE_HK);

CREATE TABLE HUB_LOCATOR
(
	LOCATOR_HK           BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL,
	RECORD_SOURCE        VARCHAR(100) NULL,
	LOCATOR_NK           VARCHAR(100) NULL,
	LOCATOR_TYPE         VARCHAR(20) NULL
);

ALTER TABLE HUB_LOCATOR
ADD PRIMARY KEY (LOCATOR_HK);

CREATE TABLE HUB_POLICY
(
	POLICY_HK            BINARY() NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	POLICY_NUMBER        VARCHAR(50) NULL
);

ALTER TABLE HUB_POLICY
ADD PRIMARY KEY (POLICY_HK);

CREATE TABLE HUB_POLICY_TRANSACTION
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	POLICY_TRANSACTION_NK VARCHAR(16777216) NULL
);

ALTER TABLE HUB_POLICY_TRANSACTION
ADD PRIMARY KEY (POLICY_TRANSACTION_HK);

CREATE TABLE HUB_QUOTE
(
	QUOTE_HK             BINARY(16) NOT NULL,
	RETENTION_NK         VARCHAR(100) NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL
);

ALTER TABLE HUB_QUOTE
ADD PRIMARY KEY (QUOTE_HK);

CREATE TABLE HUB_REFERENCE_RULE
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	HUB_REFERENCE_RULE_HK BINARY(16) NOT NULL,
	REFERENCE_RULE_TABLE_NAME VARCHAR(300) NULL
);

ALTER TABLE HUB_REFERENCE_RULE
ADD PRIMARY KEY (HUB_REFERENCE_RULE_HK);

CREATE TABLE HUB_VEHICLE
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	VEHICLE_HK           BINARY(16) NOT NULL,
	VEHICLE_IDENTIFICATION_NUMBER VARCHAR(100) NULL
);

ALTER TABLE HUB_VEHICLE
ADD PRIMARY KEY (VEHICLE_HK);

CREATE TABLE LNK_POLICY_HAS_POLICY_TRANSACTION
(
	POLICY_HK            BINARY(16) NOT NULL,
	POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	POLICY_HAS_POLICY_TRANSACTION_HK BINARY(16) NOT NULL
);

ALTER TABLE LNK_POLICY_HAS_POLICY_TRANSACTION
ADD PRIMARY KEY (POLICY_HAS_POLICY_TRANSACTION_HK);

CREATE TABLE LNK_POLICY_TRANSACTION_HAS_POLICY_TRANSACTION
(
	POLICY_TRANSACTION_HAS_POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	RELATED_POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL
);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_POLICY_TRANSACTION
ADD PRIMARY KEY (POLICY_TRANSACTION_HAS_POLICY_TRANSACTION_HK);

CREATE TABLE LNK_POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE
(
	VEHICLE_HK           BINARY(16) NOT NULL,
	COVERAGE_HK          BINARY(16) NOT NULL,
	POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE_HK BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	RISK_ID              VARCHAR(100) NULL
);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE
ADD PRIMARY KEY (POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE_HK);

CREATE TABLE LNK_POLICY_TRANSACTION_INSURES_VEHICLE
(
	POLICY_TRANSACTION_INSURES_VEHICLE_HK BINARY(16) NOT NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	VEHICLE_HK           BINARY(16) NOT NULL,
	POLICY_TRANSACTION_HK BINARY(16) NOT NULL,
	RISK_ID              VARCHAR(100) NULL
);

ALTER TABLE LNK_POLICY_TRANSACTION_INSURES_VEHICLE
ADD PRIMARY KEY (POLICY_TRANSACTION_INSURES_VEHICLE_HK);

CREATE TABLE SAT_BR_COVERAGE_REF_COV_DED_LIT
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	DEDUCTIBLE_DESCRIPTION VARCHAR(200) NOT NULL,
	HASHDIFF             BINARY(16) NULL,
	EFFECTIVE_TIMESTAMP  TIMESTAMP NULL,
	RECORD_SOURCE        VARCHAR(100) NULL,
	COVERAGE_HK          BINARY(16) NOT NULL
);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_DED_LIT
ADD PRIMARY KEY (LOAD_TIMESTAMP,COVERAGE_HK);

CREATE TABLE SAT_BR_COVERAGE_REF_COV_LIMIT_LIT
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	LIMIT_DESCRIPTION    VARCHAR(200) NOT NULL,
	HASHDIFF             BINARY(16) NULL,
	EFFECTIVE_TIMESTAMP  TIMESTAMP NULL,
	RECORD_SOURCE        VARCHAR(100) NULL,
	COVERAGE_HK          BINARY(16) NOT NULL
);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_LIMIT_LIT
ADD PRIMARY KEY (LOAD_TIMESTAMP,COVERAGE_HK);

CREATE TABLE SAT_BR_COVERAGE_REF_COV_MNEMONICS
(
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	COVERAGE_DESCRIPTION VARCHAR(200) NOT NULL,
	HASHDIFF             BINARY(16) NULL,
	EFFECTIVE_TIMESTAMP  TIMESTAMP NULL,
	RECORD_SOURCE        VARCHAR(100) NULL,
	COVERAGE_HK          BINARY(16) NOT NULL
);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_MNEMONICS
ADD PRIMARY KEY (LOAD_TIMESTAMP,COVERAGE_HK);

CREATE TABLE SAT_RDS_COV_DED_LIT
(
	HASHDIFF             VARCHAR(20) NULL,
	EFFECTIVE_TIMESTAMP  TIMESTAMP NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	VEH_COV_DED_CD       VARCHAR(4) NOT NULL,
	RISK_STATE_CD        VARCHAR(3) NOT NULL,
	PROJECT_ID           VARCHAR(20) NULL,
	PADL_DED_DES         VARCHAR(35) NULL,
	LGG_CD2              VARCHAR(2) NOT NULL,
	LEGACY_DED_DESC      VARCHAR(100) NULL,
	BUS_SRC_APP_ID       VARCHAR(8) NOT NULL,
	ACTION_IND           VARCHAR(1) NULL,
	HUB_REFERENCE_RULE_HK BINARY(16) NOT NULL
);

ALTER TABLE SAT_RDS_COV_DED_LIT
ADD PRIMARY KEY (BUS_SRC_APP_ID,LGG_CD2,RISK_STATE_CD,VEH_COV_DED_CD,LOAD_TIMESTAMP,HUB_REFERENCE_RULE_HK);

CREATE TABLE SAT_RDS_COV_LIMIT_LIT
(
	HASHDIFF             VARCHAR(20) NULL,
	EFFECTIVE_TIMESTAMP  TIMESTAMP NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	RISK_STATE_CD        VARCHAR(3) NOT NULL,
	VEH_COV_LIM_CD       VARCHAR(6) NOT NULL,
	PA_VEH_COV_CD        VARCHAR(4) NOT NULL,
	BUS_SRC_APP_ID       VARCHAR(8) NOT NULL,
	LGG_CD2              VARCHAR(2) NOT NULL,
	PALL_LIMIT_DES       VARCHAR(35) NULL,
	LEGACY_LIMIT_DESC    VARCHAR(100) NULL,
	LIMIT_WGT_NBR        NUMERIC(38) NULL,
	PROJECT_ID           VARCHAR(20) NULL,
	ACTION_IND           VARCHAR(1) NULL,
	HUB_REFERENCE_RULE_HK BINARY(16) NOT NULL
);

ALTER TABLE SAT_RDS_COV_LIMIT_LIT
ADD PRIMARY KEY (BUS_SRC_APP_ID,LGG_CD2,PA_VEH_COV_CD,RISK_STATE_CD,VEH_COV_LIM_CD,LOAD_TIMESTAMP,HUB_REFERENCE_RULE_HK);

CREATE TABLE SAT_RDS_COV_MNEMONICS
(
	HASHDIFF             VARCHAR(20) NULL,
	EFFECTIVE_TIMESTAMP  TIMESTAMP NULL,
	LOAD_TIMESTAMP       TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	RECORD_SOURCE        VARCHAR(100) NULL,
	RISK_STATE_CD        VARCHAR(3) NOT NULL,
	PA_VEH_COV_CD        VARCHAR(4) NOT NULL,
	BUS_SRC_APP_ID       VARCHAR(8) NOT NULL,
	LGG_CD2              VARCHAR(2) NOT NULL,
	PVCL_VEH_COV_DES     VARCHAR(30) NULL,
	SHORT_COV_DES        VARCHAR(7) NULL,
	COV_POS              VARCHAR(3) NULL,
	LEGACY_COV_BACS_CD   VARCHAR(1) NULL,
	LEGACY_COV_DESC      VARCHAR(30) NULL,
	DSPLY_LEVEL_CD       VARCHAR(1) NULL,
	STATED_AMT_IND       VARCHAR(1) NULL,
	NON_DED_DESC_IND     VARCHAR(1) NULL,
	PROJECT_ID           VARCHAR(20) NULL,
	ACTION_IND           VARCHAR() NULL,
	HUB_REFERENCE_RULE_HK BINARY(16) NOT NULL
);

ALTER TABLE SAT_RDS_COV_MNEMONICS
ADD PRIMARY KEY (BUS_SRC_APP_ID,LGG_CD2,PA_VEH_COV_CD,RISK_STATE_CD,LOAD_TIMESTAMP,HUB_REFERENCE_RULE_HK);

ALTER TABLE LNK_POLICY_HAS_POLICY_TRANSACTION
ADD CONSTRAINT R_6 FOREIGN KEY (POLICY_HK) REFERENCES HUB_POLICY (POLICY_HK);

ALTER TABLE LNK_POLICY_HAS_POLICY_TRANSACTION
ADD CONSTRAINT R_3 FOREIGN KEY (POLICY_TRANSACTION_HK) REFERENCES HUB_POLICY_TRANSACTION (POLICY_TRANSACTION_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_POLICY_TRANSACTION
ADD CONSTRAINT R_73 FOREIGN KEY (POLICY_TRANSACTION_HK) REFERENCES HUB_POLICY_TRANSACTION (POLICY_TRANSACTION_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_POLICY_TRANSACTION
ADD CONSTRAINT R_74 FOREIGN KEY (RELATED_POLICY_TRANSACTION_HK) REFERENCES HUB_POLICY_TRANSACTION (POLICY_TRANSACTION_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE
ADD CONSTRAINT R_13 FOREIGN KEY (VEHICLE_HK) REFERENCES HUB_VEHICLE (VEHICLE_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE
ADD CONSTRAINT R_15 FOREIGN KEY (COVERAGE_HK) REFERENCES HUB_COVERAGE (COVERAGE_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_HAS_VEHICLE_COVERAGE
ADD CONSTRAINT R_72 FOREIGN KEY (POLICY_TRANSACTION_HK) REFERENCES HUB_POLICY_TRANSACTION (POLICY_TRANSACTION_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_INSURES_VEHICLE
ADD CONSTRAINT R_38 FOREIGN KEY (VEHICLE_HK) REFERENCES HUB_VEHICLE (VEHICLE_HK);

ALTER TABLE LNK_POLICY_TRANSACTION_INSURES_VEHICLE
ADD CONSTRAINT R_68 FOREIGN KEY (POLICY_TRANSACTION_HK) REFERENCES HUB_POLICY_TRANSACTION (POLICY_TRANSACTION_HK);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_DED_LIT
ADD CONSTRAINT R_119 FOREIGN KEY (COVERAGE_HK) REFERENCES HUB_COVERAGE (COVERAGE_HK);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_LIMIT_LIT
ADD CONSTRAINT R_97 FOREIGN KEY (COVERAGE_HK) REFERENCES HUB_COVERAGE (COVERAGE_HK);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_LIMIT_LIT
ADD CONSTRAINT R_120 FOREIGN KEY (COVERAGE_HK) REFERENCES HUB_COVERAGE (COVERAGE_HK);

ALTER TABLE SAT_BR_COVERAGE_REF_COV_MNEMONICS
ADD CONSTRAINT R_121 FOREIGN KEY (COVERAGE_HK) REFERENCES HUB_COVERAGE (COVERAGE_HK);

ALTER TABLE SAT_RDS_COV_DED_LIT
ADD CONSTRAINT R_107 FOREIGN KEY (HUB_REFERENCE_RULE_HK) REFERENCES HUB_REFERENCE_RULE (HUB_REFERENCE_RULE_HK);

ALTER TABLE SAT_RDS_COV_LIMIT_LIT
ADD CONSTRAINT R_106 FOREIGN KEY (HUB_REFERENCE_RULE_HK) REFERENCES HUB_REFERENCE_RULE (HUB_REFERENCE_RULE_HK);

ALTER TABLE SAT_RDS_COV_MNEMONICS
ADD CONSTRAINT R_105 FOREIGN KEY (HUB_REFERENCE_RULE_HK) REFERENCES HUB_REFERENCE_RULE (HUB_REFERENCE_RULE_HK);
